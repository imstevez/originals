{"version":3,"sources":["Register.js","Login.js","Profile.js","Complete.js","index.js"],"names":["emailTips","Register","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","disabled","email","emailErr","emailValid","e","reg","RegExp","target","value","test","setState","_this2","fetch","method","headers","Content-Type","body","JSON","stringify","then","rsp","status","code","message","json","data","alert","history","push","catch","err","_this3","classes","react_default","a","createElement","className","container","CssBaseline_default","Paper_default","paper","Typography_default","component","variant","color","align","gutterBottom","href","Divider_default","divider","Grid_default","justify","grid","aria-disabled","FormControl_default","formControl","error","InputLabel_default","htmlFor","Input_default","id","onChange","handleEmail","aria-describedby","FormHelperText_default","Button_default","onClick","handleSubmit","button","size","React","Component","withStyles","theme","marginTop","maxWidth","margin","padding","display","flexDirection","justifyContent","alignItems","defineProperty","width","breakpoints","down","height","storage","window","localStorage","Complete","emailValidate","passValidate","password","passwordErr","token","mode","get","passwordValidate","root","TextField_default","label","onBlur","type","input","handlePass","handleLogin","rightIcon","marginLeft","spacing","unit","bigAvatar","cursor","fileInput","ButtonAppBar","avatar","nickname","x-login-token","user_id","redirectLogin","_this4","AppBar_default","position","appBar","Toolbar_default","grow","handleLogout","elevation","Avatar_default","src","direction","flexGrow","menuButton","marginRight","b","validate","avatarSrc","payload","match","params","split","tokenObj","parse","atob","now","Date","getTime","exp","length","formData","FormData","append","x-register-token","URL","createObjectURL","files","accept","multiple","handleAvatar","alt","handleName","handlePassword","App","react_router_dom","react_router","path","exact","Profile","Login","ReactDOM","render","src_App","document","querySelector"],"mappings":"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","file":"static/js/main.f3ca1e7e.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\n\n\n\n\nconst styles = (theme) => ({\n    container: {\n        marginTop: 30\n\n    },\n    paper: {\n        maxWidth: 500,\n        margin: 'auto',\n        padding: 30,\n    },\n    divider: {\n        margin: 0\n    },\n    grid: {\n        display: 'flex',\n        margin: '20px 0',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    formControl: {\n        width: '70%',\n        [theme.breakpoints.down('sm')]: {\n            width: '85%',\n        },\n    },\n    button: {\n        height: 40,\n        marginTop: 20\n    }\n});\n\nconst emailTips = \"E.g. example@example.com\";\nconst registerApi = \"http://www.koogo.net:8080/user/auth/register\";\n\nclass Register extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            disabled: false,\n            email: \"\",\n            emailErr: false,\n            emailValid: false,\n            emailTips: emailTips\n        };\n    }\n    handleEmail(e) {\n        let reg = new RegExp(\"^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\\\.[a-zA-Z0-9_-]+)+$\");\n        if(e.target.value !== \"\" && !reg.test(this.state.email)){\n            this.setState({\n                email: e.target.value,\n                emailErr: true,\n                emailValid: false,\n            });\n        } else if (e.target.value === \"\") {\n            this.setState({\n                email: e.target.value,\n                emailErr: false,\n                emailValid: false,\n            })\n        } else {\n            this.setState({\n                email: e.target.value,\n                emailErr: false,\n                emailValid: true,\n            })\n        }\n    }\n    handleSubmit() {\n        if(this.state.emailValid){\n            fetch(registerApi, {\n                method: \"POST\",\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    email: this.state.email\n                })\n            }).then(rsp => {\n                if(rsp.status !== 200) {\n                    return {\n                        code: 500,\n                        message: \"internal error\"\n                    };\n                } else {\n                    return rsp.json();\n                }\n            }).then(data => {\n                if (data.code === 200) {\n                    alert(\"Success, complete email has been send to your mailbox\")\n                    this.props.history.push(\"/login\");\n                } else {\n                    this.setState({\n                        disabled: false,\n                        emailErr: true\n                    });\n                    alert(data.message);\n                }\n            }).catch(err => {\n                this.setState({\n                    disabled: false\n                });\n                alert(err);\n            });\n            this.setState({\n                disabled: true\n            });\n        } else {\n            this.setState({\n                emailErr: true\n            })\n        }\n    }\n    render() {\n        const { classes } = this.props;\n        return (\n            <div className={classes.container}>\n                <CssBaseline/>\n                <Paper className={classes.paper}>\n                    <Typography component=\"h3\" variant=\"h6\" color=\"textPrimary\" align=\"right\" gutterBottom>\n                        Register |  <a href=\"/login\">Login</a>\n                    </Typography>\n                    <Divider variant=\"middle\" className={classes.divider} />\n                    <Grid container justify=\"center\" className={classes.grid} aria-disabled={this.state.disabled}>\n                        <FormControl className={classes.formControl} error={this.state.emailErr}>\n                            <InputLabel htmlFor=\"register-email\">Email</InputLabel>\n                            <Input\n                                id=\"register-email\"\n                                value={this.state.email}\n                                onChange={e => this.handleEmail(e)}\n                                aria-describedby=\"register-email-error\"\n                                disabled={this.state.disabled}\n                            />\n                            <FormHelperText id=\"register-email-error\">{this.state.emailTips}</FormHelperText>\n                        </FormControl>\n                        <Button onClick={() => this.handleSubmit()} disabled={this.state.disabled} variant=\"outlined\" color=\"primary\" className={classes.button} size=\"large\">\n                            REGISTER\n                        </Button>\n                    </Grid>\n                </Paper>\n            </div>\n        );\n    }\n}\n\nRegister.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Register);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\n\nconst styles = theme => ({\n    root: {width: 'auto', display: 'block', padding: '50px 0'},\n    paper: {width: 600, margin: 'auto', padding: '40px 30px',},\n    input: {width: 400},\n    button: {margin: 20, width: 150,},\n    rightIcon: {marginLeft: theme.spacing.unit,},\n    divider: {margin: '0 0 10px 0'},\n    bigAvatar: {margin: 10, width: 100, height: 100, cursor: 'pointer'},\n    fileInput: {display: 'none',},\n});\n\nconst storage = window.localStorage;\n\nclass Complete extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            disabled: false,\n            emailValidate: false,\n            passValidate: false,\n            email: \"\",\n            password: \"\",\n            emailErr: false,\n            passwordErr: false\n        };\n    }\n    componentDidMount() {\n        if(storage.token !== \"\") {\n            this.props.history.push(\"/profile\")\n        }\n    }\n\n    handleEmail(e){\n        let reg = new RegExp(\"^[a-z0-9]+([._\\\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$\");\n        this.setState({email: e.target.value})\n        if(this.state.email !== \"\" && !reg.test(this.state.email)){\n            this.setState({\n                emailErr: true,\n                emailValidate: false\n            });\n        } else if (this.state.email === \"\") {\n            this.setState({\n                emailErr: false,\n                emailValidate: false\n            })\n        } else {\n            this.setState({\n                emailErr: false,\n                emailValidate: true\n            })\n        }\n    }\n    handlePass(e){\n        this.setState({password: e.target.value})\n        if(this.state.password !== \"\"){\n            this.setState({\n                passwordErr: false,\n                passValidate: true\n            });\n        } else {\n            this.setState({\n                passwordErr: false,\n                passValidate: false\n            })\n        }\n    }\n    handleLogin(){\n        if(this.state.emailValidate && this.state.passValidate){\n            this.setState({\n                disabled: true\n            });\n            fetch(\"http://www.koogo.net:8080/user/auth/login\", {\n                method: \"POST\",\n                mode: \"cors\",\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    email: this.state.email,\n                    password: this.state.password\n                })\n            }).then(rsp => {\n                storage.token = rsp.headers.get(\"x-login-token\");\n                return rsp.json()\n            }).then(data => {\n                if(data.code === 200) {\n                    this.props.history.push(\"/profile\");\n                } else {\n                    this.setState({\n                        disabled: false,\n                        email: \"\",\n                        password: \"\",\n                        emailErr: false,\n                        passwordErr: false,\n                        emailValidate: false,\n                        passwordValidate: false\n                    });\n                    alert(data.code + \": \" + data.message);\n                }\n            }).catch( err => {\n                this.setState({\n                    disabled: false\n                });\n                alert(err);\n            });\n        } else {\n            this.setState({\n                emailErr: !this.state.emailValidate,\n                passwordErr: !this.state.passValidate\n            })\n        }\n\n    }\n    render() {\n        const { classes } = this.props;\n        return (\n            <div className={classes.root}>\n                <CssBaseline/>\n                <Paper className={classes.paper}>\n                    <Typography component=\"h1\" variant=\"h5\" color=\"textPrimary\" gutterBottom align=\"right\">\n                        Login | <a href=\"/register\">Register</a>\n                    </Typography>\n                    <Divider variant=\"middle\" className={classes.divider} />\n                    <Grid container justify=\"center\">\n                        <TextField error={this.state.emailErr} id=\"login-email\" label=\"Email\" value={this.state.email} onChange={e => this.handleEmail(e)} onBlur={e => this.handleEmail(e)} type=\"text\" className={classes.input} margin=\"normal\"/>\n                        <TextField error={this.state.passwordErr} id=\"login-pwd\" label=\"Password\" value={this.state.password} onChange={e => this.handlePass(e)} onBlur={e => this.handlePass(e)} type=\"password\" className={classes.input} margin=\"normal\"/>\n                        <Button variant=\"contained\" color=\"primary\" disabled={this.state.disabled} className={classes.button} size=\"large\" onClick={e => this.handleLogin()}>\n                            LOGIN\n                        </Button>\n                    </Grid>\n                </Paper>\n            </div>\n        );\n    }\n}\n\nComplete.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Complete);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Divider from \"@material-ui/core/Divider\";\n\nconst styles = theme => ({\n    root: {flexGrow: 1,},\n    grow: {flexGrow: 1,},\n    appBar: {height: 60},\n    menuButton: {marginLeft: -12, marginRight: 20},\n    paper: {width: 600, margin: 'auto', padding: 30, marginTop: 20},\n    input: {width: 400},\n    button: {margin: 20, height: 50, width: 200,},\n    rightIcon: {marginLeft: theme.spacing.unit,},\n    divider: {margin: '0 0 20px 0'},\n    bigAvatar: {margin: 10, width: 100, height: 100, cursor: 'pointer'},\n    fileInput: {display: 'none',},\n    b: {display: 'flex', width: 300}\n});\n\n\nconst storage = window.localStorage;\n\nclass ButtonAppBar extends React.Component {\n    image_url;\n    user_id;\n    constructor(props) {\n        super(props);\n        this.state = {\n            avatar: \"\",\n            id: \"\",\n            email: \"\",\n            nickname: \"\",\n        }\n    }\n    redirectLogin(){\n        storage.token = \"\";\n        this.props.history.push(\"/login\");\n    }\n    handleLogout() {\n        fetch(\"http://www.koogo.net:8080/user/auth/logout\", {\n            method: \"POST\",\n            mode: \"cors\",\n            headers: {\n                \"x-login-token\": storage.token,\n            }\n        }).then(rsp => {\n            return rsp.json()\n        }).then(data => {\n            alert(data.message);\n            localStorage.token = \"\";\n            this.props.history.push(\"/login\");\n        }).catch(err => {\n            localStorage.token = \"\";\n            alert(err);\n            this.props.history.push(\"/login\");\n        })\n    }\n    componentDidMount() {\n        if (storage.token === \"\") {\n            this.props.history.push(\"/login\")\n        } else {\n            fetch(\"http://www.koogo.net:8080/user/info/\", {\n                headers: {\n                    \"x-login-token\": storage.token\n                },\n                mode: \"cors\"\n            }).then(rsp => {\n                return rsp.json()\n            }).then(data => {\n                if(data.code === 200) {\n                    this.setState({\n                        email: data.data.email,\n                        id: data.data.user_id,\n                        nickname: data.data.nickname,\n                        avatar: data.data.avatar,\n                    })\n                } else {\n                    alert(data.message);\n                    this.redirectLogin()\n                }\n            }).catch(err => {\n                alert(err);\n                this.redirectLogin();\n            });\n        }\n    }\n\n    render(){\n        const { classes } = this.props;\n        return (\n            <div className={classes.root}>\n                <CssBaseline/>\n                <AppBar position=\"static\" className={classes.appBar}>\n                    <Toolbar>\n                        <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\n                            Profile\n                        </Typography>\n                        <Button color=\"inherit\" onClick={() => {this.handleLogout()}}>LOGOUT</Button>\n                    </Toolbar>\n                </AppBar>\n                <Paper className={classes.paper} elevation={1}>\n                    <Grid container justify=\"center\">\n                        <Avatar src={this.state.avatar} className={classes.bigAvatar} />\n                    </Grid>\n                    <Divider variant=\"middle\" className={classes.divider} />\n                    <Grid container justify=\"center\" direction=\"column\">\n                        <Typography gutterBottom variant=\"h6\" component=\"h3\">{this.state.id}</Typography>\n                        <Divider variant=\"middle\" className={classes.divider} />\n                        <Typography gutterBottom variant=\"h6\" component=\"h3\">{this.state.nickname}</Typography>\n                        <Divider variant=\"middle\" className={classes.divider} />\n                        <Typography gutterBottom variant=\"h6\" component=\"h3\">{this.state.email}</Typography>\n                    </Grid>\n                </Paper>\n            </div>\n        );\n    }\n\n}\n\nButtonAppBar.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ButtonAppBar);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport Avatar from '@material-ui/core/Avatar';\n\nconst styles = theme => ({\n    root: {width: 'auto', display: 'block',padding: '50px 0'},\n    paper: {width: 600, margin: 'auto', padding: '40px 30px',},\n    input: {width: 400},\n    button: {margin: 20, width: 150,},\n    rightIcon: {marginLeft: theme.spacing.unit,},\n    divider: {margin: '0 0 20px 0'},\n    bigAvatar: {margin: 10, width: 100, height: 100, cursor: 'pointer'},\n    fileInput: {display: 'none',},\n});\nclass Complete extends React.Component {\n    constructor(props) {\n        super(props);\n        let err = {\n            nickname: false,\n            password: false\n        };\n        let data = {\n            token: \"\",\n            email: \"\",\n            nickname: \"\",\n            password: \"\",\n            avatar: \"\",\n            avatarSrc: \"http://www.koogo.net:8080/user/statics/avatar/avatar_default.png\"\n        };\n        let validate = {\n            nickname: false,\n            password: false\n        };\n        this.state = {\n            disabled: false,\n            err: err,\n            validate: validate,\n            data: data\n        }\n    }\n\n    componentDidMount() {\n        let payload = this.props.match.params.token.split(\".\")[1];\n        let tokenObj = JSON.parse(atob(payload));\n        let now = (new Date()).getTime();\n        if (!tokenObj.email) {\n            alert(\"token invalid\");\n            this.props.history.push(\"/register\");\n            return;\n        }\n        if (now > tokenObj.exp * 1000) {\n            alert(\"token expired, please register again\");\n            this.props.history.push(\"/register\");\n            return;\n        }\n        let data = this.state.data;\n        data.token = this.props.match.params.token;\n        data.email = tokenObj.email;\n        this.setState({\n            data: data\n        });\n    }\n\n    handleName(e) {\n        let data = this.state.data;\n        data.nickname = e.target.value;\n        this.setState({\n            data: data,\n        });\n        if(this.state.data.nickname === \"\") {\n            let err = this.state.err;\n            let validate = this.state.validate;\n            err.nickname = false;\n            validate.nickname = false;\n            this.setState({\n                err: err,\n                validate: validate\n            });\n        } else if (this.state.data.nickname.length < 4) {\n            let err = this.state.err;\n            let validate = this.state.validate;\n            err.nickname = true;\n            validate.nickname = false;\n            this.setState({\n                err: err,\n                validate: validate\n            });\n        } else {\n            let err = this.state.err;\n            let validate = this.state.validate;\n            err.nickname = false;\n            validate.nickname = true;\n            this.setState({\n                err: err,\n                validate: validate\n            });\n        }\n    }\n\n    handlePassword(e) {\n        let data = this.state.data;\n        data.password = e.target.value;\n        this.setState({\n            data: data,\n        });\n        if(this.state.data.password === \"\") {\n            let err = this.state.err;\n            let validate = this.state.validate;\n            err.password = false;\n            validate.password = false;\n            this.setState({\n                err: err,\n                validate: validate\n            });\n        } else if (this.state.data.password.length < 4) {\n            let err = this.state.err;\n            let validate = this.state.validate;\n            err.password = true;\n            validate.password = false;\n            this.setState({\n                err: err,\n                validate: validate\n            });\n        } else {\n            let err = this.state.err;\n            let validate = this.state.validate;\n            err.password = false;\n            validate.password = true;\n            this.setState({\n                err: err,\n                validate: validate\n            });\n        }\n    }\n    handleSubmit() {\n        if(this.state.validate.nickname && this.state.validate.password) {\n            this.setState({\n                disabled: true,\n            });\n            let formData = new FormData();\n\n            formData.append('nickname', this.state.data.nickname);\n            formData.append('password', this.state.data.password);\n            if(this.state.data.avatar) {\n                formData.append('avatar', this.state.data.avatar);\n            }\n\n            fetch('http://www.koogo.net:8080/user/auth/complete', {\n                method: 'POST',\n                headers: {\n                    \"x-register-token\": this.state.data.token\n                },\n                body: formData\n            }).then(rsp => {\n                    return rsp.json();\n            }).then(data => {\n                if(data.code === 200) {\n                    alert(\"register complete successfully, please login\")\n                    this.props.history.push(\"/login\")\n                } else {\n                    alert(data.code + \": \" + data.message);\n                    if(data.code === 301) {\n                        this.props.history.push(\"/login\")\n                    }\n                    let err = this.state.err;\n                    err.nickname = true;\n                    err.password = true;\n                    this.setState({\n                        disabled: false,\n                        err: err\n                    });\n                }\n            }).catch(err => {\n                this.setState({\n                    disabled: false,\n                });\n                alert(err)\n            });\n        }\n    }\n\n    handleAvatar(e){\n        let src = URL.createObjectURL(e.target.files[0]);\n        let data = this.state.data;\n        data.avatarSrc = src;\n        data.avatar = e.target.files[0];\n        this.setState({\n            data: data\n        });\n    }\n    render() {\n        const { classes } = this.props;\n        const data = this.state.data;\n        const err = this.state.err;\n        return (\n            <div className={classes.root}>\n                <CssBaseline/>\n                <Paper className={classes.paper} elevation={1}>\n                    <Typography component=\"h1\" variant=\"h5\" color=\"textPrimary\" gutterBottom>\n                        Complete\n                    </Typography>\n                    <Divider variant=\"middle\" className={classes.divider} />\n                    <Grid container justify=\"center\">\n                        <input\n                            accept=\"image/*\"\n                            className={classes.fileInput}\n                            id=\"avatar-file\"\n                            multiple\n                            type=\"file\"\n                            onChange={e => this.handleAvatar(e)}\n                        />\n                        <label htmlFor=\"avatar-file\">\n                            <Avatar alt=\"\" src={data.avatarSrc} className={classes.bigAvatar} />\n                        </label>\n                    </Grid>\n                    <Grid container justify=\"center\">\n                        <TextField id=\"complete-email\" disabled label=\"Email\" type=\"text\" value={data.email} className={classes.input} margin=\"normal\"/>\n                        <TextField id=\"complete-nickname\" error={err.nickname} value={data.nickname} onChange={e => this.handleName(e)}  label=\"Nickname\" type=\"text\" className={classes.input} margin=\"normal\"/>\n                        <TextField id=\"complete-password\" error={err.password} value={data.password} onChange={e => this.handlePassword(e)}  label=\"Password\" type=\"password\" className={classes.input} margin=\"normal\"/>\n                        <Button variant=\"contained\" disabled={this.state.disabled} onClick={() => this.handleSubmit()} color=\"primary\" className={classes.button} size=\"large\">\n                            COMPLETE\n                        </Button>\n                    </Grid>\n                </Paper>\n            </div>\n        );\n    }\n}\n\nComplete.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Complete);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Register from \"./Register\"\nimport Login from \"./Login\"\nimport Profile from \"./Profile\"\nimport Complete from \"./Complete\"\n\nclass App extends React.Component {\n    render() {\n        return (\n            <Router>\n                <Route path=\"/\" exact component={Profile}/>\n                <Route path=\"/Register\" component={Register}/>\n                <Route path=\"/Complete/:token\" component={Complete}/>\n                <Route path=\"/login\" component={Login}/>\n                <Route path=\"/profile\" component={Profile}/>\n            </Router>\n        );\n    }\n}\n\nReactDOM.render(<App />, document.querySelector('#root'));"],"sourceRoot":""}